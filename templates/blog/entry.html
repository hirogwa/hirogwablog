{% extends "blog/entrylist.html" %}

{% block load_statics %}
  {% load staticfiles %}
  <link rel="stylesheet" type="text/css" href="{% static 'blog/entry.css' %}"/>
{% endblock %}

{% block entry_footer %}
<div class="entry_comment">
  <div class="existing_comments">
    {% for comment in comments %}
    <article class="existing_comment">
      <header>
        <div class="gravatar">
          <img src="{{ comment.gravatar_url }}" alt="gravatar">
        </div>
        <div class="text">
          <h3 id="{{ comment.anchor_id }}">{{ comment.author }}</h3>
          <span class="pub_date"><a href="{{ request.get_full_path }}#{{ comment.anchor_id }}">{{ comment.pub_date_string }}</a></span>
        </div>
      </header>
      <p>{{ comment.content|linebreaks }}</p>
    </article>
    {% endfor %}
  </div>
  <div class="add_comment">
    <h3 id="add_comment">add comment</h3>
    <form class="comment_form" method="post" action="{% url 'blog:entry' entries.0.id %}">
      {% csrf_token %}
      <div class="comment_author">
        <input id="author" type="text" required name="author" placeholder="Name (required)"/>
      </div>
      <div class="comment_email">
        <input id="email" type="email" required name="email" placeholder="Email (required, will not be published)" />
      </div>
      <div class="comment_content">
        <label for="content"></label>
        <textarea id="content" type="text" aria-required="true" name="content" placeholder="Comment..."></textarea>
      </div>
      <div class="comment_submit" >
        <input id="submit" type="submit" value="post comment" name="submit" />
      </div>
    </form>
  </div>
</div>
{% endblock %}

{% block entry_list_footer %}
{% endblock %}
